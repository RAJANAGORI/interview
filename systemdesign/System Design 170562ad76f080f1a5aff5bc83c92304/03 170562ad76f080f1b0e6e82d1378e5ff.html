<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>03</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray_background {
	background: rgba(248, 248, 247, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(248, 243, 252, 1);
}
.highlight-pink_background {
	background: rgba(252, 241, 246, 1);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(248, 248, 247, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(248, 243, 252, 1);
}
.block-color-pink_background {
	background: rgba(252, 241, 246, 1);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: undefined; }
.select-value-color-pink { background-color: rgba(225, 136, 179, 0.27); }
.select-value-color-purple { background-color: rgba(168, 129, 197, 0.27); }
.select-value-color-green { background-color: rgba(123, 183, 129, 0.27); }
.select-value-color-gray { background-color: rgba(84, 72, 49, 0.15); }
.select-value-color-transparentGray { background-color: undefined; }
.select-value-color-translucentGray { background-color: undefined; }
.select-value-color-orange { background-color: rgba(224, 124, 57, 0.27); }
.select-value-color-brown { background-color: rgba(210, 162, 141, 0.35); }
.select-value-color-red { background-color: rgba(244, 171, 159, 0.4); }
.select-value-color-yellow { background-color: rgba(236, 191, 66, 0.39); }
.select-value-color-blue { background-color: rgba(93, 165, 206, 0.27); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="170562ad-76f0-80f1-b0e6-e82d1378e5ff" class="page sans"><header><h1 class="page-title">03</h1><p class="page-description"></p></header><div class="page-body"><h1 id="170562ad-76f0-804a-8525-cff4ce2db56b" class=""><strong>03</strong></h1><h1 id="170562ad-76f0-8049-a35f-e0119a2228f9" class=""><strong>Back-of-the-envelope Estimation</strong></h1><p id="170562ad-76f0-808f-b69e-ccd251b11cc0" class="">In a system design interview, sometimes you are asked to estimate system capacity or performance requirements using a back-of-the-envelope estimation. According to Jeff Dean, Google Senior Fellow, “back-of-the-envelope calculations are estimates you create using a combination of thought experiments and common performance numbers to get a good feel for which designs will meet your requirements” [1].</p><p id="170562ad-76f0-80e0-b2fa-d806cad89c2d" class="">You need to have a good sense of scalability basics to effectively carry out back-of-the-envelope estimation. The following concepts should be well understood: power of two [2], latency numbers every programmer should know, and availability numbers.</p><h1 id="170562ad-76f0-800f-ad85-eb70fc19fa56" class=""><strong>Power of two</strong></h1><p id="170562ad-76f0-80a0-8447-d0e73b245ede" class="">Although data volume can become enormous when dealing with distributed systems, calculation all boils down to the basics. To obtain correct calculations, it is critical to know the data volume unit using the power of 2. A byte is a sequence of 8 bits. An ASCII character uses one byte of memory (8 bits). Below is a table explaining the data volume unit (Table 1).</p><table id="170562ad-76f0-803a-87ad-c36e07108a5a" class="simple-table"><tbody><tr id="170562ad-76f0-8024-a769-ff5fd4b0c11d"><td id="dRWk" class="">Power</td><td id="_Q?b" class="">Approximate value</td><td id="ST&lt;Z" class="">Full name</td><td id="]Ek;" class="">Short name</td></tr><tr id="170562ad-76f0-8062-9f19-ff2232ffb88a"><td id="dRWk" class="">10</td><td id="_Q?b" class="">1 Thousand</td><td id="ST&lt;Z" class="">1 Kilobyte</td><td id="]Ek;" class="">1 KB</td></tr><tr id="170562ad-76f0-805d-9e3a-c8e46ad29858"><td id="dRWk" class="">20</td><td id="_Q?b" class="">1 Million</td><td id="ST&lt;Z" class="">1 Megabyte</td><td id="]Ek;" class="">1 MB</td></tr><tr id="170562ad-76f0-80be-9cf0-c2eadd253a3f"><td id="dRWk" class="">30</td><td id="_Q?b" class="">1 Billion</td><td id="ST&lt;Z" class="">1 Gigabyte</td><td id="]Ek;" class="">1 GB</td></tr><tr id="170562ad-76f0-80f8-8349-c7818dedd4ac"><td id="dRWk" class="">40</td><td id="_Q?b" class="">1 Trillion</td><td id="ST&lt;Z" class="">1 Terabyte</td><td id="]Ek;" class="">1 TB</td></tr><tr id="170562ad-76f0-8048-80dd-c0f0ee024674"><td id="dRWk" class="">50</td><td id="_Q?b" class="">1 Quadrillion</td><td id="ST&lt;Z" class="">1 Petabyte</td><td id="]Ek;" class="">1 PB</td></tr></tbody></table><p id="170562ad-76f0-80dc-8589-fb1b9bf8f46c" class="">Table 1</p><h1 id="170562ad-76f0-8090-99e3-d51328f88156" class=""><strong>Latency numbers every programmer should know</strong></h1><p id="170562ad-76f0-8009-a28d-fbb9440be7fa" class="">Dr. Dean from Google reveals the length of typical computer operations in 2010 [1]. Some numbers are outdated as computers become faster and more powerful. However, those numbers should still be able to give us an idea of the fastness and slowness of different computer operations.</p><table id="170562ad-76f0-80f2-994f-d9625a9af657" class="simple-table"><tbody><tr id="170562ad-76f0-80b3-89e9-e33e515dc89b"><td id="X~iw" class="">Operation name</td><td id="Q]EB" class="">Time</td></tr><tr id="170562ad-76f0-8039-ae30-e436d41fdac2"><td id="X~iw" class="">L1 cache reference</td><td id="Q]EB" class="">0.5 ns</td></tr><tr id="170562ad-76f0-80be-baeb-f99ed6a40758"><td id="X~iw" class="">Branch mispredict</td><td id="Q]EB" class="">5 ns</td></tr><tr id="170562ad-76f0-8080-823e-ee5a80c24bbf"><td id="X~iw" class="">L2 cache reference</td><td id="Q]EB" class="">7 ns</td></tr><tr id="170562ad-76f0-80af-bb3d-e7c62008df58"><td id="X~iw" class="">Mutex lock/unlock</td><td id="Q]EB" class="">100 ns</td></tr><tr id="170562ad-76f0-8055-998a-c763d9a56f86"><td id="X~iw" class="">Main memory reference</td><td id="Q]EB" class="">100 ns</td></tr><tr id="170562ad-76f0-8088-9536-f97b0b5d81fe"><td id="X~iw" class="">Compress 1K bytes with Zippy</td><td id="Q]EB" class="">10,000 ns = 10 µs</td></tr><tr id="170562ad-76f0-80f2-a61c-d611839411e5"><td id="X~iw" class="">Send 2K bytes over 1 Gbps network</td><td id="Q]EB" class="">20,000 ns = 20 µs</td></tr><tr id="170562ad-76f0-808e-bea4-d1960cc3b7a6"><td id="X~iw" class="">Read 1 MB sequentially from memory</td><td id="Q]EB" class="">250,000 ns = 250 µs</td></tr><tr id="170562ad-76f0-80d1-9f50-d03515c00575"><td id="X~iw" class="">Round trip within the same datacenter</td><td id="Q]EB" class="">500,000 ns = 500 µs</td></tr><tr id="170562ad-76f0-800f-b11d-c61e223c24c3"><td id="X~iw" class="">Disk seek</td><td id="Q]EB" class="">10,000,000 ns = 10 ms</td></tr><tr id="170562ad-76f0-8020-8258-dc3b3f70aa50"><td id="X~iw" class="">Read 1 MB sequentially from the network</td><td id="Q]EB" class="">10,000,000 ns = 10 ms</td></tr><tr id="170562ad-76f0-808d-88a6-ee94033f164a"><td id="X~iw" class="">Read 1 MB sequentially from disk</td><td id="Q]EB" class="">30,000,000 ns = 30 ms</td></tr><tr id="170562ad-76f0-8020-bad6-c3de9c3e329a"><td id="X~iw" class="">Send packet CA (California) -&gt;Netherlands-&gt;CA</td><td id="Q]EB" class="">150,000,000 ns = 150 ms</td></tr></tbody></table><p id="170562ad-76f0-809f-9426-fa55f03e6cfd" class="">Table 2</p><p id="170562ad-76f0-80bf-a406-e53f89b64531" class="">Notes</p><hr id="170562ad-76f0-8059-83b5-cec808849c50"/><p id="170562ad-76f0-8087-bdb5-def0c7d9d8d6" class="">ns = nanosecond, µs = microsecond, ms = millisecond</p><p id="170562ad-76f0-80ec-b267-fdaadfc8dbcb" class="">1 ns = 10^-9 seconds</p><p id="170562ad-76f0-8062-99e8-ff7f5734ef65" class="">1 µs= 10^-6 seconds = 1,000 ns</p><p id="170562ad-76f0-801c-b51a-d5f4d322a060" class="">1 ms = 10^-3 seconds = 1,000 µs = 1,000,000 ns</p><p id="170562ad-76f0-800f-9bf4-f174a3a8ef00" class="">A Google software engineer built a tool to visualize Dr. Dean’s numbers. The tool also takes the time factor into consideration. Figures 2-1 shows the visualized latency numbers as of 2020 (source of figures: reference material [3]).</p><figure id="170562ad-76f0-804c-80d9-ea0f32562217" class="image"><a href="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27646%27%20height=%27590%27/%3e"><img src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27646%27%20height=%27590%27/%3e"/></a></figure><figure id="170562ad-76f0-80f4-906d-c8bd09d2720d" class="image"><a href="https://bytebytego.com/images/courses/system-design-interview/back-of-the-envelope-estimation/figure-2-1-E4JWSLDE.svg"><img src="https://bytebytego.com/images/courses/system-design-interview/back-of-the-envelope-estimation/figure-2-1-E4JWSLDE.svg"/></a></figure><p id="170562ad-76f0-806c-be8d-ec1acbf9173a" class="">Figure 1</p><p id="170562ad-76f0-80f7-a351-f79765f13e5d" class="">By analyzing the numbers in Figure 1, we get the following conclusions:</p><ul id="170562ad-76f0-80eb-96bd-c8cdde2a5f9e" class="bulleted-list"><li style="list-style-type:disc">Memory is fast but the disk is slow.</li></ul><ul id="170562ad-76f0-809c-b199-ee8b1b488e7a" class="bulleted-list"><li style="list-style-type:disc">Avoid disk seeks if possible.</li></ul><ul id="170562ad-76f0-80c3-8c4c-e274085c4752" class="bulleted-list"><li style="list-style-type:disc">Simple compression algorithms are fast.</li></ul><ul id="170562ad-76f0-8092-ae04-efe9a1fcd831" class="bulleted-list"><li style="list-style-type:disc">Compress data before sending it over the internet if possible.</li></ul><ul id="170562ad-76f0-802e-9a90-e90f70ea9fc2" class="bulleted-list"><li style="list-style-type:disc">Data centers are usually in different regions, and it takes time to send data between them.</li></ul><h1 id="170562ad-76f0-80eb-8e08-df6dadad5eeb" class=""><strong>Availability numbers</strong></h1><p id="170562ad-76f0-80fe-b29d-cd14d83921a9" class="">High availability is the ability of a system to be continuously operational for a desirably long period of time. High availability is measured as a percentage, with 100% means a service that has 0 downtime. Most services fall between 99% and 100%.</p><p id="170562ad-76f0-80f3-a722-de7e41882447" class="">A service level agreement (SLA) is a commonly used term for service providers. This is an agreement between you (the service provider) and your customer, and this agreement formally defines the level of uptime your service will deliver. Cloud providers Amazon [4], Google [5] and Microsoft [6] set their SLAs at 99.9% or above. Uptime is traditionally measured in nines. The more the nines, the better. As shown in Table 3, the number of nines correlate to the expected system downtime.</p><table id="170562ad-76f0-80df-9e42-efec2a24d0ff" class="simple-table"><tbody><tr id="170562ad-76f0-808c-b270-d4bbf629d719"><td id="xFKr" class=""><strong>Availability %</strong></td><td id="S\nT" class=""><strong>Downtime per day</strong></td><td id="D=b}" class=""><strong>Downtime per week</strong></td><td id="TacR" class=""><strong>Downtime per month</strong></td><td id="eNm&lt;" class=""><strong>Downtime per year</strong></td></tr><tr id="170562ad-76f0-803e-9382-eeb76e0d8355"><td id="xFKr" class="">99%</td><td id="S\nT" class="">14.40 minutes</td><td id="D=b}" class="">1.68 hours</td><td id="TacR" class="">7.31 hours</td><td id="eNm&lt;" class="">3.65 days</td></tr><tr id="170562ad-76f0-80c7-aebd-f42eee438fbc"><td id="xFKr" class="">99.99%</td><td id="S\nT" class="">8.64 seconds</td><td id="D=b}" class="">1.01 minutes</td><td id="TacR" class="">4.38 minutes</td><td id="eNm&lt;" class="">52.60 minutes</td></tr><tr id="170562ad-76f0-805a-9f9a-c84be5b9645a"><td id="xFKr" class="">99.999%</td><td id="S\nT" class="">864.00</td><td id="D=b}" class="">6.05 seconds</td><td id="TacR" class="">26.30 seconds</td><td id="eNm&lt;" class="">5.26 minutes</td></tr><tr id="170562ad-76f0-8037-a925-f22eb1a5c64f"><td id="xFKr" class="">99.9999%</td><td id="S\nT" class="">86.40 milliseconds</td><td id="D=b}" class="">604.80</td><td id="TacR" class="">2.63 seconds</td><td id="eNm&lt;" class="">31.56 seconds</td></tr></tbody></table><p id="170562ad-76f0-80f2-a58b-d63fe5374073" class="">Table 3</p><h1 id="170562ad-76f0-8029-b523-f4c78c99815f" class=""><strong>Example: Estimate Twitter QPS and storage requirements</strong></h1><p id="170562ad-76f0-8008-b54a-f244269d31e6" class="">Please note the following numbers are for this exercise only as they are not real numbers from Twitter.</p><p id="170562ad-76f0-8025-9ee4-f66ebf38e9c3" class="">Assumptions:</p><ul id="170562ad-76f0-801c-b9e4-d8f92bf00a31" class="bulleted-list"><li style="list-style-type:disc">300 million monthly active users.</li></ul><ul id="170562ad-76f0-80bd-a660-d1e3091cc491" class="bulleted-list"><li style="list-style-type:disc">50% of users use Twitter daily.</li></ul><ul id="170562ad-76f0-80ab-bca6-ff04494d8434" class="bulleted-list"><li style="list-style-type:disc">Users post 2 tweets per day on average.</li></ul><ul id="170562ad-76f0-80c8-90af-cb3c695d9f36" class="bulleted-list"><li style="list-style-type:disc">10% of tweets contain media.</li></ul><ul id="170562ad-76f0-8093-8577-fadbe0944094" class="bulleted-list"><li style="list-style-type:disc">Data is stored for 5 years.</li></ul><p id="170562ad-76f0-800e-a0f9-c3ea0d1bb5af" class="">Estimations:</p><p id="170562ad-76f0-8015-82b4-c565391b5d73" class="">Query per second (QPS) estimate:</p><ul id="170562ad-76f0-80c1-b8e5-f3a55ad7961b" class="bulleted-list"><li style="list-style-type:disc">Daily active users (DAU) = 300 million * 50% = 150 million</li></ul><ul id="170562ad-76f0-8094-9da7-c3585d6207ef" class="bulleted-list"><li style="list-style-type:disc">Tweets QPS = 150 million * 2 tweets / 24 hour / 3600 seconds = ~3500</li></ul><ul id="170562ad-76f0-80c7-8db7-f84d19865c36" class="bulleted-list"><li style="list-style-type:disc">Peek QPS = 2 * QPS = ~7000</li></ul><p id="170562ad-76f0-80e1-b584-f872ec4fdbf4" class="">We will only estimate media storage here.</p><ul id="170562ad-76f0-806a-88d5-fe61a6d69f85" class="bulleted-list"><li style="list-style-type:disc">Average tweet size:</li></ul><ul id="170562ad-76f0-8031-8cc4-dc30ae104cc4" class="bulleted-list"><li style="list-style-type:disc">tweet_id 64 bytes</li></ul><ul id="170562ad-76f0-8013-b4e1-f03a2153bd7d" class="bulleted-list"><li style="list-style-type:disc">text 140 bytes</li></ul><ul id="170562ad-76f0-808d-aca9-f83e636aa592" class="bulleted-list"><li style="list-style-type:disc">media 1 MB</li></ul><ul id="170562ad-76f0-803c-b0d9-db23a662ddf2" class="bulleted-list"><li style="list-style-type:disc">Media storage: 150 million * 2 * 10% * 1 MB = 30 TB per day</li></ul><ul id="170562ad-76f0-8040-b364-f52dba51b549" class="bulleted-list"><li style="list-style-type:disc">5-year media storage: 30 TB * 365 * 5 = ~55 PB</li></ul><h1 id="170562ad-76f0-80e1-83c5-d7bbe228c39a" class=""><strong>Tips</strong></h1><p id="170562ad-76f0-805c-be1b-fd349491a885" class="">Back-of-the-envelope estimation is all about the process. Solving the problem is more important than obtaining results. Interviewers may test your problem-solving skills. Here are a few tips to follow:</p><ul id="170562ad-76f0-8003-8b28-e5db80f4dbbb" class="bulleted-list"><li style="list-style-type:disc">Rounding and Approximation. It is difficult to perform complicated math operations during the interview. For example, what is the result of “99987 / 9.1”? There is no need to spend valuable time to solve complicated math problems. Precision is not expected. Use round numbers and approximation to your advantage. The division question can be simplified as follows: “100,000 / 10”.</li></ul><ul id="170562ad-76f0-8041-acee-ddc2ed9c0602" class="bulleted-list"><li style="list-style-type:disc">Write down your assumptions. It is a good idea to write down your assumptions to be referenced later.</li></ul><ul id="170562ad-76f0-802a-87d7-d44eae0ab67a" class="bulleted-list"><li style="list-style-type:disc">Label your units. When you write down “5”, does it mean 5 KB or 5 MB? You might confuse yourself with this. Write down the units because “5 MB” helps to remove ambiguity.</li></ul><ul id="170562ad-76f0-807a-9604-f552bd9cb22d" class="bulleted-list"><li style="list-style-type:disc">Commonly asked back-of-the-envelope estimations: QPS, peak QPS, storage, cache, number of servers, etc. You can practice these calculations when preparing for an interview. Practice makes perfect.</li></ul><p id="170562ad-76f0-8032-a68b-f3ff0892201a" class="">Congratulations on getting this far! Now give yourself a pat on the back. Good job!</p><h1 id="170562ad-76f0-8010-a6e4-d15356bdae67" class=""><strong>Reference materials</strong></h1><p id="170562ad-76f0-8082-b381-fc9c59b03d5c" class="">[1] J. Dean.Google Pro Tip: Use Back-Of-The-Envelope-Calculations To Choose The Best Design:</p><p id="170562ad-76f0-8055-9a2a-db77f72b74a0" class=""><a href="http://highscalability.com/blog/2011/1/26/google-pro-tip-use-back-of-the-envelope-calculations-to-choo.html"><span style="border-bottom:0.05em solid">http://highscalability.com/blog/2011/1/26/google-pro-tip-use-back-of-the-envelope-calculations-to-choo.html</span></a></p><p id="170562ad-76f0-8030-813c-fc350a594dbd" class="">[2] System design primer:</p><p id="170562ad-76f0-801b-92ca-fb9ba7207845" class=""><a href="https://github.com/donnemartin/system-design-primer"><span style="border-bottom:0.05em solid">https://github.com/donnemartin/system-design-primer</span></a></p><p id="170562ad-76f0-80fb-aaa6-e932feea048d" class="">[3] Latency Numbers Every Programmer Should Know:</p><p id="170562ad-76f0-80a3-9899-fce68d193ea1" class=""><a href="https://colin-scott.github.io/personal_website/research/interactive_latency.html"><span style="border-bottom:0.05em solid">https://colin-scott.github.io/personal_website/research/interactive_latency.html</span></a></p><p id="170562ad-76f0-809e-a8f8-da34be0f7c21" class="">[4] Amazon Compute Service Level Agreement:</p><p id="170562ad-76f0-809a-8b0d-cf47dd46c55e" class=""><a href="https://aws.amazon.com/compute/sla/"><span style="border-bottom:0.05em solid">https://aws.amazon.com/compute/sla/</span></a></p><p id="170562ad-76f0-80af-a154-cfadff9853f6" class="">[5] Compute Engine Service Level Agreement (SLA):</p><p id="170562ad-76f0-8087-8db0-e441a1ece929" class=""><a href="https://cloud.google.com/compute/sla"><span style="border-bottom:0.05em solid">https://cloud.google.com/compute/sla</span></a></p><p id="170562ad-76f0-80bb-84a0-ebafe6bfbba1" class="">[6] SLA summary for Azure services:</p><p id="170562ad-76f0-80d9-8866-cc4f0aaf8b7d" class=""><a href="https://azure.microsoft.com/en-us/support/legal/sla/summary/"><span style="border-bottom:0.05em solid">https://azure.microsoft.com/en-us/support/legal/sla/summary/</span></a></p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>